(this["webpackJsonpbeerb-order"]=this["webpackJsonpbeerb-order"]||[]).push([[0],{139:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c),o=(a(139),a(66),a(67),a(132)),l=a(23),i=a(24),d=a(145),b=a(47),u=a(48),j=a(76),m=a(74),h=a(4),O=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"headers-container",children:[Object(h.jsx)(p,{}),Object(h.jsx)(x,{})]})}}]),a}(r.a.Component),p=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"homepage-header",children:[Object(h.jsx)("div",{className:"logo"}),Object(h.jsx)("p",{children:"Take your time to go through the selection, we are sure you\u2019ll find something tasty!"})]})}}]),a}(r.a.Component),x=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){return Object(b.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"homepage-header",children:[Object(h.jsx)("h1",{children:"Your order"}),Object(h.jsx)("p",{children:"Here is everything you need to know about your order:"})]})}}]),a}(r.a.Component),f=a(61),v=a(147),k=a(150),y=a(151),g=a(148),N=a(129),T=N.a.TabPane;function B(e){console.log(e)}var C=v.a.Meta;function F(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),r=a[0],c=a[1];function s(e){r>0&&c((function(e){return e-1}))}function o(e){c((function(e){return e+1}))}var l=Object(n.useState)(!1),d=Object(i.a)(l,2),b=d[0],u=d[1];return Object(h.jsxs)("div",{className:"beer-inventory",children:[Object(h.jsxs)(v.a,{hoverable:!0,style:{width:150},cover:Object(h.jsx)("img",{onClick:function(){u(!0)},alt:"example",src:""+"/beers/".concat(e.label)}),children:[Object(h.jsx)(C,{title:e.name,description:e.category}),Object(h.jsx)("p",{className:"store-item-price",children:"75 DKK"}),Object(h.jsxs)("div",{className:"beer-add",children:[Object(h.jsx)(k.a,{onClick:s}),Object(h.jsx)("h1",{children:r}),Object(h.jsx)(y.a,{onClick:o})]}),Object(h.jsx)(f.a,{onClick:function(){return e.addToBasket(e,r)},className:"button btn-black beer-button",type:"primary",children:"Add to cart"})]}),Object(h.jsxs)(g.a,{className:"beersdetailsmodal",title:"Beerdetails",visible:b,onOk:function(){u(!1)},onCancel:function(){u(!1)},children:[Object(h.jsx)("aside",{children:Object(h.jsx)("img",{src:""+"/beers/".concat(e.label),alt:"beer label"})}),Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"beer-details-heading",children:[Object(h.jsx)("h1",{children:e.name}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h2",{children:e.category}),Object(h.jsxs)("h2",{children:[e.alc,"% alc"]})]})]}),Object(h.jsxs)("div",{className:"addingtobasket",children:[Object(h.jsx)(k.a,{className:"butt-add",onClick:s}),Object(h.jsx)("h1",{children:r}),Object(h.jsx)(y.a,{className:"butt-add",onClick:o}),Object(h.jsx)(f.a,{onClick:function(){return e.addToBasket(e,r)},className:"button btn-black beer-button",type:"primary",children:"Add to cart"})]}),Object(h.jsxs)("div",{className:"beerInfo",children:[Object(h.jsx)("h1",{children:"Overall Impression"}),Object(h.jsx)("p",{children:e.description.overallImpression}),Object(h.jsxs)(N.a,{defaultActiveKey:"1",onChange:B,children:[Object(h.jsx)(T,{tab:"Aroma",children:e.description.aroma},"1"),Object(h.jsx)(T,{tab:"Appearance",children:e.description.appearance},"2"),Object(h.jsx)(T,{tab:"Flavor",children:e.description.flavor},"3"),Object(h.jsx)(T,{tab:"Mouthfeel",children:e.description.mouthfeel},"4")]})]})]})]})]})}function S(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){fetch("https://beerb.herokuapp.com/").then((function(e){return e.json()})).then((function(e){return function(e){var t=[];e.forEach((function(e){t.includes(e.beer)||(t.push(e.beer),c(t))}))}(e.taps)}))}),[]),Object(h.jsx)("main",{className:"inventory-container",children:e.beers.map((function(t){return r.map((function(a){return a===t.name?Object(n.createElement)(F,Object(l.a)(Object(l.a)({addToBasket:e.addToBasket},t),{},{key:t.name,total:e.total,updateTotal:e.updateTotal})):null}))}))})}var P=function(e){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(S,{beerPrices:e.beerPrices,total:e.total,updateTotal:e.updateTotal,beers:e.beers,addToBasket:e.addToBasket})})};function E(e){return Object(h.jsxs)("section",{className:"MyBasket",children:[Object(h.jsx)("ul",{children:e.basket.map((function(t){return Object(h.jsx)(w,{total:e.total,name:t.name,category:t.category,amount:t.amount,label:t.label,removeFromBasket:e.removeFromBasket,addToBasket:e.addToBasket,basket:e.basket},t.name)}))}),Object(h.jsxs)("div",{className:"total-basket",children:[Object(h.jsx)("h2",{children:"Total:"}),Object(h.jsxs)("h2",{className:"totalamount-basket",children:[e.total," kr"]})]})]})}function w(e){var t=Object(n.useState)(e.amount),a=Object(i.a)(t,2),r=a[0],c=a[1];var s=75*r;return Object(h.jsxs)("li",{className:"basket-display",children:[Object(h.jsx)("img",{className:"image-basket",src:""+"/beers/".concat(e.label),alt:"beerlabel"}),Object(h.jsx)("p",{className:"itemname-basket",children:e.name}),Object(h.jsxs)("div",{className:"beer-add",children:[" ",Object(h.jsx)(k.a,{onClick:function(){return t=e.name,console.log(r),void(r>1?(c(r-1),e.addToBasket(e.basket.find((function(t){return t.name===e.name})),r-1)):1===r&&e.removeFromBasket(t));var t}}),Object(h.jsx)("p",{children:r}),Object(h.jsx)(y.a,{onClick:function(){return c(r+1),void e.addToBasket(e.basket.find((function(t){return t.name===e.name})),r+1)}})]}),Object(h.jsxs)("p",{className:"localtotalprice-basket",children:[s," kr"]}),Object(h.jsx)("div",{className:"remove-item-icon",onClick:function(){return t=e.name,void e.removeFromBasket(t);var t},children:" "})]})}var A=function(e){return Object(h.jsx)("div",{className:"Basket",children:Object(h.jsx)(E,{total:e.total,basket:e.basket,removeFromBasket:e.removeFromBasket,addToBasket:e.addToBasket})})};function I(){window.location.reload(!1)}function L(e){return Object(h.jsx)("div",{className:"step-container step-container-1",children:Object(h.jsx)(P,{beerPrices:e.beerPrices,total:e.total,beers:e.beers,basket:e.basket,addToBasket:e.addToBasket})})}function Y(e){return console.log("current number:"+e.current),console.log("number of items in the basket:"+e.basket.length),0===e.basket.length?(console.log("0 items in the basket"),Object(h.jsx)("div",{className:"step-container step-container-2",children:Object(h.jsx)("p",{className:"placeholder-basket",children:"Aren't you finding your best beer match? Ask our staff for recommendation!"})})):1===e.basket.length&&0===e.current?(console.log("1 item in the basket, current = 0"),e.next(),Object(h.jsxs)("div",{className:"step-container step-container-2",children:[Object(h.jsx)(A,{beerPrices:e.beerPrices,total:e.total,beers:e.beers,basket:e.basket,addToBasket:e.addToBasket,removeFromBasket:e.removeFromBasket}),Object(h.jsx)(f.a,{className:"button btn-yellow",type:"primary",onClick:function(){return e.handlemodal()},children:"Place order"})]})):e.basket.length>0&&e.current>0?(console.log("at least 1 item in the basket, current = 0"),Object(h.jsxs)("div",{className:"step-container step-container-2",children:[Object(h.jsx)(A,{beerPrices:e.beerPrices,total:e.total,beers:e.beers,basket:e.basket,addToBasket:e.addToBasket,removeFromBasket:e.removeFromBasket}),Object(h.jsx)(f.a,{className:"button btn-yellow",type:"primary",onClick:function(){return e.handlemodal()},children:"Place order"})]})):null}function M(e){return 2===e.current&&setTimeout((function(){e.next(),function(e){var t=5;console.log(e.orderNumber);var a=g.a.success({title:"Your order is ready!",content:Object(h.jsxs)("div",{className:"orderpickup-modal",children:[Object(h.jsx)("p",{children:"You can now pickup your order at the bar!"}),Object(h.jsx)("div",{className:"cheers-svg-container",children:Object(h.jsx)("div",{className:"cheers-icon"})})]})}),n=setInterval((function(){t-=1}),1e3);setTimeout((function(){clearInterval(n),a.destroy()}),1e3*t)}(e),e.post()}),3e3),Object(h.jsxs)("div",{className:"step-container step-container-3",children:[Object(h.jsx)("p",{children:"Give us some time to finish your order."}),Object(h.jsx)("p",{children:Object(h.jsx)("strong",{children:"We\u2019ll notify you once it\u2019s ready for pickup!"})})]})}function D(e){return 3===e.current&&setTimeout((function(){e.next()}),1e3),Object(h.jsx)("div",{className:"step-container step-container-4",children:e.current>2&&Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:"You can now pickup your order at the bar!"})," "]})})}function q(e){return Object(h.jsx)("div",{className:"step-container step-container-4",children:e.current>3&&Object(h.jsx)(f.a,{className:"button btn-yellow",type:"primary",onClick:I,children:"Order again"})})}var J=a(146),K=a(149),V=a(112),U=a(128),W=a.n(U),G=a(152);function H(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),o=Object(i.a)(s,2),l=o[0],d=o[1],b=Object(n.useState)(""),u=Object(i.a)(b,2),j=u[0],m=u[1],O=Object(n.useState)(""),p=Object(i.a)(O,2),x=p[0],v=p[1],k=Object(n.useState)(!1),y=Object(i.a)(k,2),N=y[0],T=y[1],B=Object(n.useState)(!1),C=Object(i.a)(B,2),F=C[0],S=C[1],P=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=/^[0-9]+$/,t=16===l.replaceAll(" ","").length&&l.replaceAll(" ","").match(e),a=4===j.replace("/","").length&&j.replace("/","").match(e),n=3===x.length&&x.match(e);T(P.current.checkValidity()&&t&&a&&n)}),[r,l,j,x]),Object(h.jsx)("div",{children:Object(h.jsx)(g.a,{destroyOnClose:!0,title:"Payment",visible:e.visible,onCancel:e.handlemodal,className:"payment-modal",children:Object(h.jsxs)(W.a,{isFlipped:F,children:[Object(h.jsxs)("form",{ref:P,children:[Object(h.jsxs)("div",{className:"payment-modal-header",children:[Object(h.jsx)("h1",{children:"Payment"}),Object(h.jsx)("p",{children:"Please enter your card information here."})]}),Object(h.jsxs)("div",{className:"payment-grid",children:[Object(h.jsxs)("div",{className:"form-layout div1",children:[Object(h.jsx)("label",{htmlFor:"cardnumber",children:"Card number"}),Object(h.jsx)(V.a,{mask:"1111 1111 1111 1111",value:l,className:"ant-input",onChange:function(e){return d(e.target.value)},required:!0})]}),Object(h.jsxs)("div",{className:"form-layout div2",children:[Object(h.jsx)("label",{htmlFor:"name",children:"Cardholder's name"}),Object(h.jsx)(J.a,{id:"name",type:"text",required:!0,minLength:"2",maxLength:"26",value:r,onChange:function(e){return c(e.target.value)}})]}),Object(h.jsxs)("div",{className:"form-layout div3",children:[Object(h.jsx)("label",{htmlFor:"expirydate",children:"Expiry date (MM/YY)"}),Object(h.jsx)(V.a,{mask:"11/11",className:"ant-input",required:!0,value:j,onChange:function(e){return m(e.target.value)}})]}),Object(h.jsxs)("div",{className:"form-layout div4",children:[Object(h.jsx)("label",{htmlFor:"cvv",children:"CVV"}),Object(h.jsx)(V.a,{mask:"111",value:x,className:"ant-input",onChange:function(e){return v(e.target.value)},required:!0})]})]}),Object(h.jsx)(f.a,{className:"completePaymentbutton",type:"primary",htmlType:"submit",disabled:!N,onClick:function(e){e.preventDefault(),S(!0)},children:"Complete payment"})]}),Object(h.jsx)(K.a,{title:"Thank you!",subTitle:"PAYMENT COMPLETED SUCCESSFULLY",icon:Object(h.jsx)(G.a,{}),extra:[Object(h.jsx)("div",{className:"payment-modal-thankyou-extra",children:Object(h.jsx)("p",{children:"We'll notify you when the order is ready for pickup."})},"header"),Object(h.jsx)(f.a,{className:"btn-black",type:"primary",onClick:function(t){t.preventDefault(),e.handlemodal(),e.next(),document.getElementsByClassName("App")[0].classList.add("page-slide-to-left")},children:"Back to page"},"console")]})]})})})}var R=d.a.Step,$=[{title:"Select your beer",current:0,content:function(e){var t=e.updateTotal,a=e.total,n=e.basket,r=e.beers,c=e.addToBasket,s=e.next,o=e.current,l=e.handlemodal,i=e.handlemodal2,d=e.removeFromBasket;return Object(h.jsx)(L,{updateTotal:t,total:a,basket:n,beers:r,addToBasket:c,next:s,current:o,handlemodal:l,handlemodal2:i,removeFromBasket:d})}},{title:"Place your order",current:1,content:function(e){var t=e.updateTotal,a=e.total,n=e.basket,r=e.beers,c=e.addToBasket,s=e.next,o=e.current,l=e.handlemodal,i=e.handlemodal2,d=e.post,b=e.removeFromBasket;return Object(h.jsx)(Y,{updateTotal:t,total:a,basket:n,beers:r,addToBasket:c,next:s,current:o,handlemodal:l,handlemodal2:i,post:d,removeFromBasket:b})}},{title:"A bit of a patience",current:2,content:function(e){var t=e.updateTotal,a=e.total,n=e.basket,r=e.beers,c=e.addToBasket,s=e.next,o=e.current,l=(e.handlemodal,e.handlemodal2),i=e.post,d=e.orderNumber,b=e.removeFromBasket;return Object(h.jsx)(M,{updateTotal:t,total:a,basket:n,beers:r,addToBasket:c,next:s,current:o,handlemodal2:l,post:i,orderNumber:d,removeFromBasket:b})}},{title:"Pick up your order ",current:3,content:function(e){var t=e.updateTotal,a=e.total,n=e.basket,r=e.beers,c=e.addToBasket,s=e.next,o=e.current,l=(e.handlemodal,e.handlemodal2),i=e.post,d=e.removeFromBasket;return Object(h.jsx)(D,{updateTotal:t,total:a,basket:n,beers:r,addToBasket:c,next:s,current:o,handlemodal2:l,post:i,removeFromBasket:d})}},{title:"Enjoy and repeat!",current:4,content:function(e){var t=e.updateTotal,a=e.total,n=e.basket,r=e.beers,c=e.addToBasket,s=e.next,o=e.current,l=(e.handlemodal,e.handlemodal2),i=e.post,d=e.removeFromBasket;return Object(h.jsx)(q,{updateTotal:t,total:a,basket:n,beers:r,addToBasket:c,next:s,current:o,handlemodal2:l,post:i,removeFromBasket:d})}}];function z(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(i.a)(c,2),b=s[0],u=s[1],j=Object(n.useState)(!1),m=Object(i.a)(j,2),p=m[0],x=m[1],f=Object(n.useState)([]),v=Object(i.a)(f,2),k=v[0],y=v[1],g=Object(n.useState)([]),N=Object(i.a)(g,2),T=N[0],B=N[1],C=Object(n.useState)(0),F=Object(i.a)(C,2),S=F[0],P=F[1];function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log("payload",e);var a=T.findIndex((function(t){return t.name===e.name}));if(-1===a){var n=Object(l.a)({},e);n.amount=t,B((function(){return[].concat(Object(o.a)(T),[n])}))}else{var r=T.map((function(a){return a.name===e.name&&(a.amount=t),a}));B(r)}}function w(e){console.log("remove from basket");var t=T.filter((function(t){return t.name!==e}));B(t)}function A(){var e=0;P(T.forEach((function(t){console.log(t.amount),e+=t.amount})));var t=75*e;return console.log(e),P(t),t}function I(){r(a+1)}Object(n.useEffect)((function(){fetch("https://beerb.herokuapp.com/beertypes").then((function(e){return e.json()})).then(y)}),[]),Object(n.useEffect)((function(){var e=0;T.forEach((function(t){e+=t.amount,P(75*e)}))}),[T]);var L=function(){console.log("handlmodal1"),u(!b)},Y=function(){console.log("handlmodal22222"),x(!p)};function M(){var e=T.map((function(e){return{name:e.name,amount:e.amount}}));console.log(e);var t=JSON.stringify(e);fetch("https://beerb.herokuapp.com/order",{method:"post",body:t,headers:{"Content-Type":"application/json; charset=utf-8"}}).then((function(e){return e.json()})).then((function(e){"added"===e.message&&(console.log(e),B([]))}))}return Object(h.jsxs)("div",{className:"orderflow",children:[Object(h.jsx)(O,{}),!0===b&&Object(h.jsx)(H,{handlemodal:L,visible:b,next:I}),Object(h.jsx)(d.a,{current:a,children:$.map((function(e){return Object(h.jsx)(R,{title:e.title},e.title)}))}),Object(h.jsx)("div",{className:"steps-content-container",children:$.map((function(e){return Object(h.jsxs)("div",{className:"steps-content ".concat(e.step!==a+1),children:[" ",e.content({updateTotal:A,total:S,basket:T,beers:k,addToBasket:E,next:I,current:a,handlemodal:L,handlemodal2:Y,post:M,removeFromBasket:w})," "]},e.title)}))})]})}var Q=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(z,{})})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,153)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(h.jsx)(Q,{}),document.getElementById("root")),X()},66:function(e,t,a){}},[[144,1,2]]]);
//# sourceMappingURL=main.2cdefa4f.chunk.js.map